(this["webpackJsonpdatta-able-rv18.0.4"]=this["webpackJsonpdatta-able-rv18.0.4"]||[]).push([[12],{1339:function(e,a,t){"use strict";var n=t(258),r=t(210),o=t(211),l=t(213),s=t(212),i=t(13),c=t.n(i),d=t(1464),u=t(1469),m=t(1353),p=(t(1331),t(358)),f=t(1326),h=function(e){Object(l.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).state={isOption:e.props.isOption,fullCard:!1,collapseCard:!1,loadCard:!1,cardRemove:!1},e.cardReloadHandler=function(){e.setState({loadCard:!0}),setInterval((function(){e.setState({loadCard:!1})}),3e3)},e.cardRemoveHandler=function(){e.setState({cardRemove:!0})},e}return Object(o.a)(t,[{key:"render",value:function(){var e,a,t,r,o,l=this,s=[];return this.state.isOption&&(t=c.a.createElement("div",{className:"card-header-right"},c.a.createElement(d.a,{alignRight:!0,className:"btn-group card-option"},c.a.createElement(d.a.Toggle,{id:"dropdown-basic",className:"btn-icon"},c.a.createElement("i",{className:"feather icon-more-horizontal"})),c.a.createElement(d.a.Menu,{as:"ul",className:"list-unstyled card-option"},c.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:function(){l.setState((function(e){return{fullCard:!e.fullCard}}))}},c.a.createElement("i",{className:this.state.fullCard?"feather icon-minimize":"feather icon-maximize"}),c.a.createElement("a",{href:f.a.BLANK_LINK}," ",this.state.fullCard?"Restore":"Maximize"," ")),c.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:function(){l.setState((function(e){return{collapseCard:!e.collapseCard}}))}},c.a.createElement("i",{className:this.state.collapseCard?"feather icon-plus":"feather icon-minus"}),c.a.createElement("a",{href:f.a.BLANK_LINK}," ",this.state.collapseCard?"Expand":"Collapse"," ")),c.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardReloadHandler},c.a.createElement("i",{className:"feather icon-refresh-cw"}),c.a.createElement("a",{href:f.a.BLANK_LINK}," Reload ")),c.a.createElement(d.a.Item,{as:"li",className:"dropdown-item",onClick:this.cardRemoveHandler},c.a.createElement("i",{className:"feather icon-trash"}),c.a.createElement("a",{href:f.a.BLANK_LINK}," Remove ")))))),r=c.a.createElement(u.a.Header,null,c.a.createElement(u.a.Title,{as:"h5"},this.props.title),t),this.state.fullCard&&(s=[].concat(Object(n.a)(s),["full-card"]),e={position:"fixed",top:0,left:0,right:0,width:this.props.windowWidth,height:this.props.windowHeight}),this.state.loadCard&&(s=[].concat(Object(n.a)(s),["card-load"]),a=c.a.createElement("div",{className:"card-loader"},c.a.createElement("i",{className:"pct-loader1 anim-rotate"}))),this.state.cardRemove&&(s=[].concat(Object(n.a)(s),["d-none"])),this.props.cardClass&&(s=[].concat(Object(n.a)(s),[this.props.cardClass])),o=c.a.createElement(u.a,{className:s.join(" "),style:e},r,c.a.createElement(m.a,{in:!this.state.collapseCard},c.a.createElement("div",null,c.a.createElement(u.a.Body,null,this.props.children))),a),c.a.createElement(p.a,null,o)}}]),t}(i.Component);a.a=h},1398:function(e,a,t){"use strict";var n=t(1322),r=t(1323),o=t(1324),l=t.n(o),s=t(13),i=t.n(s),c=t(1341),d=t(1338),u=t(1325),m=i.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,s=e.as,c=Object(r.a)(e,["bsPrefix","className","as"]);t=Object(u.a)(t,"navbar-brand");var d=s||(c.href?"a":"span");return i.a.createElement(d,Object(n.a)({},c,{ref:a,className:l()(o,t)}))}));m.displayName="NavbarBrand";var p=m,f=t(1353),h=t(1335),g=i.a.forwardRef((function(e,a){var t=e.children,o=e.bsPrefix,l=Object(r.a)(e,["children","bsPrefix"]);return o=Object(u.a)(o,"navbar-collapse"),i.a.createElement(h.a.Consumer,null,(function(e){return i.a.createElement(f.a,Object(n.a)({in:!(!e||!e.expanded)},l),i.a.createElement("div",{ref:a,className:o},t))}))}));g.displayName="NavbarCollapse";var v=g,b=t(1332),E=i.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,c=e.children,d=e.label,m=e.as,p=void 0===m?"button":m,f=e.onClick,g=Object(r.a)(e,["bsPrefix","className","children","label","as","onClick"]);t=Object(u.a)(t,"navbar-toggler");var v=Object(s.useContext)(h.a)||{},E=v.onToggle,C=v.expanded,y=Object(b.a)((function(e){f&&f(e),E&&E()}));return"button"===p&&(g.type="button"),i.a.createElement(p,Object(n.a)({},g,{ref:a,onClick:y,"aria-label":d,className:l()(o,t,!C&&"collapsed")}),c||i.a.createElement("span",{className:t+"-icon"}))}));E.displayName="NavbarToggle",E.defaultProps={label:"Toggle navigation"};var C=E,y=t(1344),N=Object(d.a)("navbar-text",{Component:"span"}),w=i.a.forwardRef((function(e,a){var t=Object(c.a)(e,{expanded:"onToggle"}),o=t.bsPrefix,d=t.expand,m=t.variant,p=t.bg,f=t.fixed,g=t.sticky,v=t.className,b=t.children,E=t.as,C=void 0===E?"nav":E,N=t.expanded,w=t.onToggle,O=t.onSelect,k=t.collapseOnSelect,j=Object(r.a)(t,["bsPrefix","expand","variant","bg","fixed","sticky","className","children","as","expanded","onToggle","onSelect","collapseOnSelect"]),x=Object(u.a)(o,"navbar"),L=Object(s.useCallback)((function(){O&&O.apply(void 0,arguments),k&&N&&w&&w(!1)}),[O,k,N,w]);void 0===j.role&&"nav"!==C&&(j.role="navigation");var R=x+"-expand";"string"===typeof d&&(R=R+"-"+d);var S=Object(s.useMemo)((function(){return{onToggle:function(){return w&&w(!N)},bsPrefix:x,expanded:!!N}}),[x,N,w]);return i.a.createElement(h.a.Provider,{value:S},i.a.createElement(y.a.Provider,{value:L},i.a.createElement(C,Object(n.a)({ref:a},j,{className:l()(v,x,d&&R,m&&x+"-"+m,p&&"bg-"+p,g&&"sticky-"+g,f&&"fixed-"+f)}),b)))}));w.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},w.displayName="Navbar",w.Brand=p,w.Toggle=C,w.Collapse=v,w.Text=N;a.a=w},1427:function(e,a,t){"use strict";t.r(a);var n=t(210),r=t(211),o=t(213),l=t(212),s=t(13),i=t.n(s),c=t(358),d=t(262),u=t.n(d),m=(t(625),t(627),t(1339)),p=t(1398),f=t(1409),h=t(626),g=t(1366),v=t.n(g),b=t(259),E=t.n(b),C=t(263),y=t.n(C),N=t(214),w=t(48),O=t(628),k=t.n(O),j=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).OnClickSave=function(){v.a.fire({type:"info",showCancelButton:!0,text:"Do you want to chek out list ?",confirmButtonText:"Yes",cancelButtonText:"No",allowOutsideClick:!1,allowEscapeKey:!1}).then((function(e){if(e.value)if(console.log(" this.props.data.user.data",0==r.props.data.user.length),0!=r.props.data.user.length){if(null!=r.props.data.user.data.accessToken){r.setState({LoadPanelVisible:!0});var a=[],t=0,n=0;r.state.jlCheckList.map((function(e){a.push({productId:e._id,qty:e.qty}),n+=e.discount,t+=e.price})),t-=n,console.log("productCart",a);var o=JSON.stringify({user:r.props.data.user.data.accessToken.id,cart:a,total:t,status:0}),l={method:"post",url:y.a.URL+"order",headers:{Authorization:"Bearer "+localStorage.getItem("accessToken"),"Content-Type":"application/json"},data:o};u()(l).then((function(e){console.log("respones",e.data),e.data.success?(console.log("ok",e.data),r.onLoadPanelHiding(e.data.message,"success"),r.OnClearForm()):(console.log("elese",e.data),r.onLoadPanelHiding(null==e.data.error?e.data.message:e.data.error,"error"))})).catch((function(e){console.log(e),r.onLoadPanelHiding("Error","error")}))}}else r.setState({returnToLogin:!0});else"cancel"==e.dismiss||e.dismiss}))},r.OnClearForm=function(){localStorage.setItem("cart",null),r.setState({jRegistration:{},jlCheckList:[]})},r.OnListClickEvent=function(){r.setState({ListViewing:!r.state.ListViewing},(function(){}))},r.onInitNewRow=function(e){v.a.fire({type:"info",showCancelButton:!0,text:"Do you want to save ?",confirmButtonText:"Yes",cancelButtonText:"No",allowOutsideClick:!1,allowEscapeKey:!1}).then((function(a){if(a.value){r.setState({LoadPanelVisible:!0});var t=JSON.stringify({name:e.data.name}),n={method:"post",url:"".concat(y.a.URL,"category/add/masterCategory"),headers:{Authorization:"Bearer "+localStorage.getItem("accessToken"),"Content-Type":"application/json"},data:t};r.serverRequest=u()(n).then((function(e){e.data.success?r.onLoadPanelHiding(e.data.message,"success"):r.onLoadPanelHiding(null==e.data.error?e.data.message:e.data.error,"error")})).catch((function(e){r.onLoadPanelHiding("Error","error"),console.log(e)}))}else"cancel"==a.dismiss||a.dismiss}))},r.onLoadPanelHiding=function(e,a){r.setState({LoadPanelVisible:!1}),E()({message:e,type:a,displayTime:3e3,position:{at:"top right",offset:"50"}})},r.onRowRemoved=function(e){var a=JSON.parse(localStorage.getItem("cart")),t=[];a.length>0&&a.map((function(a){a._id!=e.key&&t.push(a)})),localStorage.setItem("cart",JSON.stringify(t)),console.log("log",t),console.log("key",e.key),console.log("key",e),r.componentDidMount()},r.ReturnToLogin=function(){return i.a.createElement(c.a,null,"return ",i.a.createElement(w.a,{to:"/register"}),";")},r.state={MasterCategoryID:0,jlCheckList:[],jMasterCategory:[],LoadPanelVisible:!1,ListViewing:!1,returnToLogin:!1},r.FormRef=i.a.createRef(),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState({jlCheckList:this.props.data.cart})}},{key:"renderGridCell",value:function(e){return console.log("celldate",e.value),i.a.createElement("div",null,i.a.createElement("img",{style:{width:"100px",height:"100px",padding:"10px"},src:e.value}))}},{key:"calculateSelectedRow",value:function(e){"SelectedRowsSummary"===e.name&&("start"===e.summaryProcess?e.totalValue=0:"calculate"===e.summaryProcess&&e.component.isRowSelected(e.value._id)&&(e.totalValue=e.totalValue+e.value.price))}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,1==this.state.returnToLogin?i.a.createElement(w.a,{to:"/login"}):i.a.createElement(c.a,null,i.a.createElement(m.a,{title:"Check List"},i.a.createElement(k.a,{id:"grid-subject",ref:this.GridRef,dataSource:this.state.jlCheckList,keyExpr:"_id",showBorders:!0,allowSearch:!0,onRowInserting:this.onInitNewRow,onRowRemoved:this.onRowRemoved},i.a.createElement(O.Editing,{mode:"popup",useIcons:!0,allowDeleting:!0},i.a.createElement(O.Popup,{title:"Add Main Category",showTitle:!0})),i.a.createElement(O.Column,{dataField:"image",width:150,cellRender:this.renderGridCell}),i.a.createElement(O.Column,{dataField:"name",caption:"Item Name"}),i.a.createElement(O.Column,{dataField:"qty",caption:"Quantity"}),i.a.createElement(O.Column,{dataField:"discount",caption:"Discount"}),i.a.createElement(O.Column,{dataField:"price",caption:"Price"}),i.a.createElement(O.Summary,{recalculateWhileEditing:!0},i.a.createElement(O.TotalItem,{column:"image",summaryType:"count"}),i.a.createElement(O.TotalItem,{column:"price",summaryType:"sum"}),i.a.createElement(O.TotalItem,{column:"discount",summaryType:"sum"}),i.a.createElement(O.TotalItem,{column:"qty",summaryType:"sum"}))),i.a.createElement(p.a,{bg:"",variant:"light"},i.a.createElement(f.a,{variant:"success",icon:"feather icon-layers",onClick:this.OnClickSave},"Check Out"),i.a.createElement(f.a,{variant:"warning",icon:"feather icon-layers"},"Clear"))),i.a.createElement(h.LoadPanel,{message:"Processing.... Please, wait...",shadingColor:"rgba(0,0,0,0.4)",onHiding:this.onLoadPanelHiding,visible:this.state.LoadPanelVisible,showIndicator:!0,shading:!0,showPane:!0,closeOnOutsideClick:!1,width:500})))}},{key:"FormLayout",get:function(){return this.FormRef.current.instance}}]),t}(s.Component);a.default=Object(N.b)((function(e){return{data:e.loggedReducer}}))(j)}}]);
//# sourceMappingURL=12.885e1e23.chunk.js.map